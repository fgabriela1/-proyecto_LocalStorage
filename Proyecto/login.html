<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Login - Sistema Contable</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="login.css" />
    <!-- Estilos para el modal -->
    <style>
      /* Modal */
      .modal {
        display: none; /* Oculto por defecto */
        position: fixed; /* Permanece en la misma posición */
        z-index: 1; /* Se sitúa encima de otros elementos */
        left: 0;
        top: 0;
        width: 100%; /* Ancho completo */
        height: 100%; /* Alto completo */
        overflow: auto; /* Habilita el scroll si es necesario */
        background-color: rgba(0, 0, 0, 0.4); /* Fondo negro con opacidad */
      }
      /* Contenido del modal */
      .modal-content {
        background-color: #fefefe;
        margin: 15% auto; /* 15% desde arriba y centrado */
        padding: 20px;
        border: 1px solid #888;
        width: 80%; /* Puede ajustarse */
        max-width: 500px;
      }
      /* Botón de cierre */
      .close {
        color: #aaa;
        float: right;
        font-size: 28px;
        font-weight: bold;
        cursor: pointer;
      }
      .close:hover,
      .close:focus {
        color: black;
        text-decoration: none;
        cursor: pointer;
      }
    </style>
  </head>
  <body>
    <div
      class="container d-flex justify-content-center align-items-center min-vh-100"
    >
      <div class="card p-5 shadow-lg animate__animated animate__fadeIn">
        <h2 class="text-center mb-4">Acceso al Sistema Contable</h2>

        <!-- Pestañas para cambiar entre Login y Registro -->
        <ul
          class="nav nav-pills mb-3 justify-content-center"
          id="pills-tab"
          role="tablist"
        >
          <li class="nav-item" role="presentation">
            <button
              class="nav-link active"
              id="login-tab"
              data-bs-toggle="pill"
              data-bs-target="#login"
              type="button"
              role="tab"
            >
              Iniciar Sesión
            </button>
          </li>
          <li class="nav-item" role="presentation">
            <button
              class="nav-link"
              id="register-tab"
              data-bs-toggle="pill"
              data-bs-target="#register"
              type="button"
              role="tab"
            >
              Registrarse
            </button>
          </li>
        </ul>

        <div class="tab-content" id="pills-tabContent">
          <!-- Formulario de Inicio de Sesión -->
          <div class="tab-pane fade show active" id="login" role="tabpanel">
            <form id="loginForm">
              <div class="mb-3">
                <label for="loginName" class="form-label"
                  >Nombre de usuario</label
                >
                <input
                  type="text"
                  class="form-control"
                  id="loginName"
                  placeholder="Ingresa tu nombre"
                  required
                />
              </div>
              <div class="mb-3">
                <label for="loginPassword" class="form-label">Contraseña</label>
                <input
                  type="password"
                  class="form-control"
                  id="loginPassword"
                  placeholder="Ingresa tu contraseña"
                  required
                />
              </div>
              <div class="d-grid">
                <button type="submit" class="btn btn-primary">
                  Iniciar Sesión
                </button>
              </div>
            </form>
          </div>

          <!-- Formulario de Registro -->
          <div class="tab-pane fade" id="register" role="tabpanel">
            <form id="registerForm">
              <div class="mb-3">
                <label for="registerName" class="form-label"
                  >Nombre de usuario</label
                >
                <input
                  type="text"
                  class="form-control"
                  id="registerName"
                  placeholder="Elige un nombre de usuario"
                  required
                />
              </div>
              <div class="mb-3">
                <label for="registerPassword" class="form-label"
                  >Contraseña</label
                >
                <input
                  type="password"
                  class="form-control"
                  id="registerPassword"
                  placeholder="Crea una contraseña"
                  required
                />
              </div>
              <div class="mb-3">
                <label for="registerEmail" class="form-label">Correo Electrónico</label>
                <input
                  type="email"
                  class="form-control"
                  id="registerEmail"
                  placeholder="Ingresa tu correo electrónico"
                  required
                />
              </div>
              <div class="d-grid mt-3">
                <button type="submit" class="btn btn-success">
                  Registrarse
                </button>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>

    <!-- Modal para ingresar el token -->
    <div id="tokenModal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <p>Ingrese el token enviado a su correo:</p>
            <input type="text" id="tokenInput" class="form-control mb-3" placeholder="Token">
            <button id="verifyTokenButton" class="btn btn-primary">Verificar Token</button>
        </div>
    </div>

    <!-- Scripts de Bootstrap -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>

    <!-- EmailJS SDK -->
    <script
      type="text/javascript"
      src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"
    ></script>

    <!-- Inicializar EmailJS -->
    <script type="text/javascript">
      (function(){
        emailjs.init("PKdpfCQ9wuxMVNZJl");
      })();
    </script>

    <!-- Tu script principal -->
    <script src="login.js"></script>
  </body>
</html>
